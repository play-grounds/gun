<script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>
<script>
  // var Gun = require('gun'); // in NodeJS
  // require('gun/sea');
  var SEA = Gun.SEA
  ;(async () => {
    var pair = await SEA.pair()
    var enc = await SEA.encrypt('hello self', pair)
    var data = await SEA.sign(enc, pair)
    console.log(data)
    var msg = await SEA.verify(data, pair.pub)
    var dec = await SEA.decrypt(msg, pair)
    var proof = await SEA.work(dec, pair)
    var check = await SEA.work('hello self', pair)
    console.log(dec)
    console.log(proof === check)
    // now let's share private data with someone:
    var alice = await SEA.pair()
    var bob = await SEA.pair()
    var enc = await SEA.encrypt(
      'shared data',
      await SEA.secret(bob.epub, alice)
    )
    await SEA.decrypt(enc, await SEA.secret(alice.epub, bob))
    // `.secret` is Elliptic-curve Diffieâ€“Hellman
  })()
</script>
